name: Stale Issues & PRs

on:
  schedule:
    - cron: '0 0 * * *' # Daily at midnight UTC
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          stale-issue-message: >
            ðŸ• This issue has been automatically marked as stale because it has
            not had activity in the last 30 days. It will be closed if no further
            activity occurs within the next 7 days. If this issue is still
            relevant, please comment to keep it open.
          stale-pr-message: >
            ðŸ• This PR has been automatically marked as stale because it has
            not had activity in the last 14 days. It will be closed if no further
            activity occurs within the next 7 days.
          close-issue-message: >
            ðŸ”’ This issue was closed because it has been stale for 7 days
            with no activity.
          close-pr-message: >
            ðŸ”’ This PR was closed because it has been stale for 7 days
            with no activity.
          days-before-issue-stale: 30
          days-before-pr-stale: 14
          days-before-issue-close: 7
          days-before-pr-close: 7
          stale-issue-label: stale
          stale-pr-label: stale
          exempt-issue-labels: 'pinned,security,bug'
          exempt-pr-labels: 'pinned,security'
